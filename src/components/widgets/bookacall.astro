---
// bookacall.astro
const { id, title, subtitle, classes } = Astro.props;
---

<section class={`px-4 py-16 mx-auto max-w-7xl lg:px-8 lg:py-20 ${classes?.container || ''}`} id={id}>
  <div class="max-w-xl mb-10 md:mx-auto sm:text-center lg:max-w-2xl md:mb-12">
    {title && (
      <h2 class="text-4xl md:text-5xl font-bold leading-tighter tracking-tighter mb-4 font-heading dark:text-gray-200">
        {title}
      </h2>
    )}
    {subtitle && (
      <p class="max-w-3xl mx-auto sm:text-center text-xl text-muted dark:text-slate-400">
        {subtitle}
      </p>
    )}
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch">
    <!-- Sol taraf - Booking bilgileri -->
    <div class="bg-white dark:bg-slate-900 rounded-2xl shadow-xl p-6 flex flex-col">
      <div class="flex items-center mb-4">
        <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mr-3 flex-shrink-0">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 002 2z"></path>
          </svg>
        </div>
        <div>
          <h3 class="text-lg font-bold text-gray-900 dark:text-white">MIORA Team Discovery Call</h3>
          <div class="flex items-center text-gray-600 dark:text-gray-400 mt-1">
            <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span class="text-sm">30 Mins</span>
          </div>
          <div class="flex items-center text-gray-600 dark:text-gray-400 mt-1">
            <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 002 2z"></path>
            </svg>
            <span class="text-sm" id="selected-date-display">Thu, Sep 25, 2025</span>
          </div>
        </div>
      </div>
      
      <div class="bg-blue-50 dark:bg-slate-800 rounded-xl p-4 mb-4 flex-grow">
        <p class="text-gray-700 dark:text-gray-300 leading-relaxed text-sm">
          Awesome! It's great to see that you're taking the first step to a better website. This meeting will be held via Google Meets. 
          Please allow about 30 minutes for a conversation about your growth goals. If you will not be able to meet us at the scheduled 
          time, please let us know so we can arrange a reschedule. We're excited to meet you and learn about your business.
        </p>
        <p class="text-xs text-gray-600 dark:text-gray-400 mt-3 font-medium">-MIORA Team</p>
      </div>

      <div class="border-t dark:border-slate-700 pt-4">
        <h4 class="font-semibold text-gray-900 dark:text-white mb-3 flex items-center text-sm">
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v18m9-9H3"></path>
          </svg>
          Time zone
        </h4>
        <div class="w-full p-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-white text-sm">
          GMT+03:00 Europe/Istanbul (GMT+3)
        </div>
      </div>
    </div>

    <!-- Sağ taraf - Takvim, saat seçimi ve form -->
    <div class="bg-white dark:bg-slate-900 rounded-2xl shadow-xl p-6 flex flex-col">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4 text-center">Select Date & Time</h3>
      
      <!-- Takvim Header -->
      <div class="flex items-center justify-between mb-4">
        <button id="prev-month" class="p-1.5 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg">
          <svg class="w-4 h-4 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
        </button>
        <h4 id="month-year" class="text-base font-semibold text-gray-900 dark:text-white">September 2025</h4>
        <button id="next-month" class="p-1.5 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg">
          <svg class="w-4 h-4 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </button>
      </div>

      <!-- Takvim Grid -->
      <div class="grid grid-cols-7 gap-1 mb-4">
        <!-- Gün başlıkları -->
        <div class="text-center text-xs font-medium text-gray-500 dark:text-gray-400 py-1">Sun</div>
        <div class="text-center text-xs font-medium text-gray-500 dark:text-gray-400 py-1">Mon</div>
        <div class="text-center text-xs font-medium text-gray-500 dark:text-gray-400 py-1">Tue</div>
        <div class="text-center text-xs font-medium text-gray-500 dark:text-gray-400 py-1">Wed</div>
        <div class="text-center text-xs font-medium text-gray-500 dark:text-gray-400 py-1">Thu</div>
        <div class="text-center text-xs font-medium text-gray-500 dark:text-gray-400 py-1">Fri</div>
        <div class="text-center text-xs font-medium text-gray-500 dark:text-gray-400 py-1">Sat</div>
        
        <!-- Boş günler -->
        <div></div><div></div><div></div><div></div><div></div><div></div>
        
        <!-- Takvim günleri -->
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>1</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>2</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>3</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>4</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>5</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>6</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>7</button>
        
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>8</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>9</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>10</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>11</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>12</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>13</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>14</button>
        
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>15</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>16</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>17</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>18</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>19</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>20</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>21</button>
        
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>22</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>23</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>24</button>
        
        <!-- Aktif tarihler -->
        <button class="date-btn w-7 h-7 rounded-lg text-xs font-medium bg-blue-600 text-white" data-date="25">25</button>
        <button class="date-btn w-7 h-7 rounded-lg text-xs font-medium text-gray-900 dark:text-white hover:bg-blue-100 dark:hover:bg-blue-900 transition-all duration-200" data-date="26">26</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>27</button>
        <button class="w-7 h-7 rounded-lg text-xs font-medium text-gray-400 dark:text-gray-600 cursor-not-allowed" disabled>28</button>
        <button class="date-btn w-7 h-7 rounded-lg text-xs font-medium text-gray-900 dark:text-white hover:bg-blue-100 dark:hover:bg-blue-900 transition-all duration-200" data-date="29">29</button>
        <button class="date-btn w-7 h-7 rounded-lg text-xs font-medium text-gray-900 dark:text-white hover:bg-blue-100 dark:hover:bg-blue-900 transition-all duration-200" data-date="30">30</button>
      </div>

      <!-- Saat seçimi -->
      <div class="mb-4">
        <h4 class="text-sm font-semibold text-gray-900 dark:text-white mb-2">Available Times</h4>
        <div class="grid grid-cols-5 gap-1 max-h-32 overflow-y-auto">
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="09:00">09:00</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="09:30">09:30</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="10:00">10:00</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="10:30">10:30</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="11:00">11:00</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="11:30">11:30</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="12:00">12:00</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="12:30">12:30</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="13:00">13:00</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="13:30">13:30</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="14:00">14:00</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="14:30">14:30</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="15:00">15:00</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="15:30">15:30</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="16:00">16:00</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="16:30">16:30</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="17:00">17:00</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="17:30">17:30</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="18:00">18:00</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="18:30">18:30</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="19:00">19:00</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="19:30">19:30</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="20:00">20:00</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="20:30">20:30</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="21:00">21:00</button>
          <button class="time-btn py-1 px-0.5 text-center border border-blue-200 dark:border-blue-800 rounded text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 text-xs font-medium" data-time="21:30">21:30</button>
        </div>
      </div>

      <!-- İletişim Formu -->
      <div class="border-t dark:border-slate-700 pt-4 space-y-3">
        <h4 class="text-sm font-semibold text-gray-900 dark:text-white mb-3">Your Information</h4>
        
        <div class="grid grid-cols-2 gap-2">
          <div>
            <input 
              type="text" 
              id="first-name" 
              placeholder="First Name *" 
              required
              class="w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            />
          </div>
          <div>
            <input 
              type="text" 
              id="last-name" 
              placeholder="Last Name *" 
              required
              class="w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            />
          </div>
        </div>

        <div>
          <input 
            type="email" 
            id="email" 
            placeholder="Email Address *" 
            required
            class="w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"
          />
        </div>

        <div>
          <input 
            type="tel" 
            id="phone" 
            placeholder="Phone Number *" 
            required
            class="w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"
          />
        </div>

        <div>
          <textarea 
            id="note" 
            placeholder="Tell us about your project (optional)" 
            rows="2"
            class="w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
          ></textarea>
        </div>

        <button id="book-meeting-btn" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2.5 px-4 rounded-xl text-sm font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5">
          Book Meeting
        </button>
      </div>
    </div>
  </div>
</section>

<!-- Modern Success Modal -->
<div id="success-modal" class="hidden fixed inset-0 z-50 overflow-y-auto">
  <!-- Backdrop -->
  <div class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm transition-opacity"></div>
  
  <!-- Modal -->
  <div class="flex min-h-full items-center justify-center p-4">
    <div class="relative bg-white dark:bg-slate-900 rounded-2xl shadow-2xl max-w-md w-full p-8 transform transition-all">
      <!-- Success Icon -->
      <div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900 mb-4">
        <svg class="h-10 w-10 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
      </div>
      
      <!-- Title -->
      <h3 class="text-2xl font-bold text-center text-gray-900 dark:text-white mb-2">
        Meeting Scheduled!
      </h3>
      
      <!-- Description -->
      <p class="text-center text-gray-600 dark:text-gray-400 mb-6">
        Thank you, <span id="modal-name" class="font-semibold"></span>! We've received your booking request and will send you a confirmation email shortly.
      </p>
      
      <!-- Meeting Details -->
      <div class="bg-gradient-to-br from-blue-50 to-purple-50 dark:from-slate-800 dark:to-slate-800 rounded-xl p-4 mb-6 space-y-3">
        <div class="flex items-start">
          <svg class="w-5 h-5 text-blue-600 dark:text-blue-400 mr-3 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
          </svg>
          <div>
            <p class="text-sm font-semibold text-gray-900 dark:text-white">Date & Time</p>
            <p id="modal-datetime" class="text-sm text-gray-600 dark:text-gray-400">Thu, Sep 25, 2025 at 15:00</p>
          </div>
        </div>
        
        <div class="flex items-start">
          <svg class="w-5 h-5 text-purple-600 dark:text-purple-400 mr-3 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
          </svg>
          <div>
            <p class="text-sm font-semibold text-gray-900 dark:text-white">Platform</p>
            <p class="text-sm text-gray-600 dark:text-gray-400">Google Meets (30 minutes)</p>
          </div>
        </div>
        
        <div class="flex items-start">
          <svg class="w-5 h-5 text-green-600 dark:text-green-400 mr-3 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
          </svg>
          <div>
            <p class="text-sm font-semibold text-gray-900 dark:text-white">Confirmation Email</p>
            <p class="text-sm text-gray-600 dark:text-gray-400">Sent to <span id="modal-email"></span></p>
          </div>
        </div>
      </div>
      
      <!-- Close Button -->
      <button id="close-modal" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl">
        Got it, thanks!
      </button>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    let currentMonth = 8; // September (0-indexed)
    let currentYear = 2025;
    let selectedDate = '25';
    let selectedTime = null;
    
    const dateButtons = document.querySelectorAll('.date-btn');
    const timeButtons = document.querySelectorAll('.time-btn');
    const bookButton = document.getElementById('book-meeting-btn');
    const dateDisplay = document.getElementById('selected-date-display');
    const monthYearDisplay = document.getElementById('month-year');
    const prevMonthBtn = document.getElementById('prev-month');
    const nextMonthBtn = document.getElementById('next-month');
    const modal = document.getElementById('success-modal');
    const closeModalBtn = document.getElementById('close-modal');
    const modalDatetime = document.getElementById('modal-datetime');
    const modalName = document.getElementById('modal-name');
    const modalEmail = document.getElementById('modal-email');
    
    // Form inputs
    const firstNameInput = document.getElementById('first-name') as HTMLInputElement | null;
    const lastNameInput = document.getElementById('last-name') as HTMLInputElement | null;
    const emailInput = document.getElementById('email') as HTMLInputElement | null;
    const phoneInput = document.getElementById('phone') as HTMLInputElement | null;
    const noteInput = document.getElementById('note') as HTMLTextAreaElement | null;
    
    const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
    const monthNamesShort = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
    const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    
    // Ay değiştirme
    if (prevMonthBtn) {
      prevMonthBtn.addEventListener('click', function() {
        currentMonth--;
        if (currentMonth < 0) {
          currentMonth = 11;
          currentYear--;
        }
        updateMonthDisplay();
      });
    }
    
    if (nextMonthBtn) {
      nextMonthBtn.addEventListener('click', function() {
        currentMonth++;
        if (currentMonth > 11) {
          currentMonth = 0;
          currentYear++;
        }
        updateMonthDisplay();
      });
    }
    
    function updateMonthDisplay() {
      if (monthYearDisplay) {
        monthYearDisplay.textContent = `${monthNames[currentMonth]} ${currentYear}`;
      }
    }
    
    // Tarih seçimi
    dateButtons.forEach(button => {
      button.addEventListener('click', function() {
        dateButtons.forEach(btn => {
          btn.classList.remove('bg-blue-600', 'text-white', 'ring-2', 'ring-blue-500');
          btn.classList.add('text-gray-900', 'dark:text-white');
        });
        
        this.classList.remove('text-gray-900', 'dark:text-white');
        this.classList.add('bg-blue-600', 'text-white', 'ring-2', 'ring-blue-500');
        
        selectedDate = this.getAttribute('data-date') || '25';
        
        const date = new Date(currentYear, currentMonth, parseInt(selectedDate));
        const dayName = dayNames[date.getDay()];
        const monthName = monthNamesShort[currentMonth];
        
        if (dateDisplay) {
          dateDisplay.textContent = `${dayName}, ${monthName} ${selectedDate}, ${currentYear}`;
        }
      });
    });
    
    // Saat seçimi
    timeButtons.forEach(button => {
      button.addEventListener('click', function(e) {
        e.preventDefault();
        
        timeButtons.forEach(btn => {
          btn.classList.remove('bg-blue-600', 'text-white', 'border-blue-600');
          btn.classList.add('border-blue-200', 'dark:border-blue-800', 'text-blue-600', 'dark:text-blue-400');
        });
        
        this.classList.remove('border-blue-200', 'dark:border-blue-800', 'text-blue-600', 'dark:text-blue-400');
        this.classList.add('bg-blue-600', 'text-white', 'border-blue-600');
        
        selectedTime = this.getAttribute('data-time');
      });
    });
    
    // Book Meeting butonu
    if (bookButton) {
      bookButton.addEventListener('click', function(e) {
        e.preventDefault();
        
        // Form validasyonu
        if (!firstNameInput || !lastNameInput || !emailInput || !phoneInput) return;
        
        const firstName = firstNameInput.value.trim();
        const lastName = lastNameInput.value.trim();
        const email = emailInput.value.trim();
        const phone = phoneInput.value.trim();
        const note = noteInput?.value.trim() || '';
        
        if (!firstName || !lastName || !email || !phone) {
          alert('Please fill in all required fields (Name, Email, Phone)');
          return;
        }
        
        if (!selectedDate || !selectedTime) {
          alert('Please select both date and time!');
          return;
        }
        
        // Email validasyonu
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
          alert('Please enter a valid email address');
          return;
        }
        
        // Modal içeriğini güncelle
        const date = new Date(currentYear, currentMonth, parseInt(selectedDate));
        const dayName = dayNames[date.getDay()];
        const monthName = monthNamesShort[currentMonth];
        
        if (modalDatetime) {
          modalDatetime.textContent = `${dayName}, ${monthName} ${selectedDate}, ${currentYear} at ${selectedTime} (GMT+3)`;
        }
        
        if (modalName) {
          modalName.textContent = `${firstName} ${lastName}`;
        }
        
        if (modalEmail) {
          modalEmail.textContent = email;
        }
        
        // Email gönder (mailto kullanarak)
        const subject = encodeURIComponent(`New Meeting Request - ${firstName} ${lastName}`);
        const body = encodeURIComponent(
          `New Meeting Booking Request\n\n` +
          `Name: ${firstName} ${lastName}\n` +
          `Email: ${email}\n` +
          `Phone: ${phone}\n` +
          `Date: ${dayName}, ${monthName} ${selectedDate}, ${currentYear}\n` +
          `Time: ${selectedTime} (GMT+3)\n` +
          `Duration: 30 minutes\n` +
          `Platform: Google Meets\n\n` +
          `${note ? `Note: ${note}\n\n` : ''}` +
          `Please confirm this meeting request.`
        );
        
        // Email otomatik gönder (mailto link)
        window.location.href = `mailto:hello@miorasoft.com?subject=${subject}&body=${body}`;
        
        // Modal'ı göster
        if (modal) {
          modal.classList.remove('hidden');
          document.body.style.overflow = 'hidden';
        }
      });
    }
    
    // Modal'ı kapat
    if (closeModalBtn) {
      closeModalBtn.addEventListener('click', function() {
        if (modal) {
          modal.classList.add('hidden');
          document.body.style.overflow = 'auto';
          
          // Formu temizle
          if (firstNameInput) firstNameInput.value = '';
          if (lastNameInput) lastNameInput.value = '';
          if (emailInput) emailInput.value = '';
          if (phoneInput) phoneInput.value = '';
          if (noteInput) noteInput.value = '';
        }
      });
    }
    
    // Modal dışına tıklanınca kapat
    if (modal) {
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          modal.classList.add('hidden');
          document.body.style.overflow = 'auto';
        }
      });
    }
  });
</script>